<div class="single-course create-form col-md-12 col-lg-12 courses">

    <form [formGroup]="formGroup" (submit)="submit(formGroup)">
        <div class="row">
            <div class="col-md-4 col-lg-4">
                <div [ngClass]="{'form-group': true, 'has-error': showError('title')}">
                    <label for="title">Title</label>
                    <input formControlName="title"
                           type="text"
                           class="form-control"
                           placeholder="Title"
                           id="title"
                           name="title"
                    >
                </div>
            </div>

            <div [ngClass]="{'col-md-4 col-lg-4': true, 'has-error': showError('date')}">
                <date-field fieldName="dateField" label="Date" formControlName="date"></date-field>
            </div>

            <div [ngClass]="{'col-md-4 col-lg-4': true, 'has-error': showError('duration')}">
                <duration-field fieldName="duration" label="Duration" formControlName="duration"></duration-field>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-lg-12">
                <div [ngClass]="{'form-group': true, 'has-error': showError('description')}">
                    <label for="description">Description</label>
                    <textarea
                            formControlName="description"
                            id="description"
                            class="form-control" rows="3">
                    </textarea>
                </div>
            </div>
        </div>

        <div class="row author-selector">
            <div [ngClass]="{'col-md-12 col-lg-12 authors-border': true, 'authors-border-error': showError('authors')}">
                <span>Choose author</span>
                <authors [authors]="authors" formControlName="authors"></authors>
            </div>
        </div>

        <div class="row errors">
            <div class="col-md-12 col-lg-12">

                <span *ngIf="!formGroup.get('title').valid && formGroup.touched"> Field Title is required. Max length - 50 symbols</span>
                <span *ngIf="!formGroup.get('description').valid && formGroup.touched"> Field Description is required. Max length - 500 symbols</span>
                <span *ngIf="!formGroup.get('date').valid && formGroup.touched"> Field Date is required. Format is dd/mm/yyyy</span>
                <span *ngIf="!formGroup.get('duration').valid && formGroup.touched"> Field Duration is required. Only numbers allowed</span>
                <span *ngIf="!formGroup.get('authors').valid && formGroup.touched"> At least on author required!</span>

            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-lg-12">
                <button type="button" class="btn btn-primary" [routerLink]="['/courses']">Close</button>
                <button type="submit" class="btn btn-default" [disabled]="!formGroup.valid">Create</button>
            </div>
        </div>
    </form>
</div>
